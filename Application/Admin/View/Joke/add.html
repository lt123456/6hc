<extend name="Public/base"/>

<block name="right-nav">
    <ul class="breadcrumb">
        <li>
            <i class="icon-home home-icon"></i>
            <a href="{:U('Admin/Index/index')}">控制台</a>
        </li>

        <li>
            <a href="{:U('Admin/Joke/index')}">幽默猜测</a>
        </li>
        <li class="active">添加</li>
    </ul>
    <!-- .breadcrumb -->
</block>
<block name="main">
    <div class="main-content">
        <div class="page-content">
            <div class="page-header">
                <h1>
                    幽默猜测管理
                    <small class="active">
                        <i class="icon-double-angle-right"></i>
                        添加
                    </small>
                </h1>
            </div>
            <!-- /.page-header -->

            <div class="alert  hide ">
                <button type="button" class="close" data-dismiss="alert">
                    <i class="icon-remove"></i>
                </button>

                <strong>
                    <i class="icon-remove"></i>

                </strong>
                <span>Change a few things up and try submitting again.</span>

                <br>
            </div>

            <div class="row">
                <div class="col-xs-12">

                    <form class="form-horizontal" id="signup_form" role="form" autocomplete="off" role="form"
                          method="post" action="{:U('Joke/doAdd')}" autocomplete="off"
                          data-validator-option="{theme:'simple_right'}" enctype="multipart/form-data">
                        <div class="form-group">
                            <label for="form-field-1" class="col-xs-12 col-sm-3 control-label no-padding-right">幽默猜测标题
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input class="width-100" type="text" name="title" placeholder="请输入幽默猜测标题">
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-12 col-sm-3 control-label no-padding-right">期数 : </label>

                            <div class="col-xs-12 col-sm-5">
                                <select id="form-field-select-1" name="periods_id" class="">
                                    <option value="请选择期数" disabled selected>--期数--</option>
                                    <foreach name="periods" item="vo">
                                        <option value="{$vo.id}"
                                        <?php if($vo['id']== $map['periods']) echo 'selected'; ?>
                                        ><b>{$vo.periods}</b>-期</option>
                                    </foreach>
                                </select>
                            </div>
                            <div class="help-block col-xs-12 col-sm-reset inline"></div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-1" class="col-xs-12 col-sm-3 control-label no-padding-right">描述
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input class="width-100" type="text" name="description" placeholder="请输入描述">
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-2" class="col-xs-12 col-sm-3 control-label no-padding-right">类型
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <select name="type" id="is_type">
                                        <option value="" selected disabled>--类型--</option>
                                        <option value="pic">图片</option>
                                        <option value="movie">视频</option>
                                    </select>
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-3" class="col-xs-12 col-sm-3 control-label no-padding-right">图片
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input multiple="" type="file" name="pic" id="id-input-file-3"/>
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-4" class="col-xs-12 col-sm-3 control-label no-padding-right">视频
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input class="width-100" type="text" name="movie" placeholder="请输入视频链接">
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-5" class="col-xs-12 col-sm-3 control-label no-padding-right">来源
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input class="width-100" type="text" name="origin" placeholder="请输入来源" value="官方">
                                </span>
                            </div>
                        </div>


                        <div class="form-group">
                            <label for="form-field-1" class="col-xs-12 col-sm-3 control-label no-padding-right">阅读数量
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <input type="text" class="input-mini" name="read" id="spinner4"/>
                                </span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-12 col-sm-3 control-label no-padding-right">是否删除 : </label>

                            <div class="col-xs-6 col-sm-1">
                                <label>
                                    <input type="hidden" name="is_delete" value="0">
                                    <input name="is_delete" class="ace" type="checkbox" value="1">
                                    <span class="lbl">&nbsp;删除</span>
                                </label>
                            </div>
                            <div class="help-block col-xs-12 col-sm-reset inline">&nbsp;(此处不点，默认为: 不删除)</div>
                        </div>

                        <div class="form-group">
                            <label for="form-field-1" class="col-xs-12 col-sm-3 control-label no-padding-right">是否处于投票阶段
                                : </label>

                            <div class="col-xs-12 col-sm-5">
                                <span class="block input-icon input-icon-right">
                                    <div class="col-xs-12 col-sm-5">
                                        <span class="block input-icon input-icon-right">
                                            <select name="status" id="is_type">
                                                <option value="allow">开始</option>
                                                <option value="stop">停止</option>
                                            </select>
                                        </span>
                                    </div>
                                </span>
                            </div>
                        </div>

                        <div class="clearfix form-actions">
                            <div class="col-md-offset-3 col-md-9">
                                <button class="btn btn-info" type="submit">
                                    <i class="icon-ok bigger-110"></i>
                                    提交
                                </button>

                                &nbsp; &nbsp; &nbsp;
                                <button class="btn" type="reset">
                                    <i class="icon-undo bigger-110"></i>
                                    重置
                                </button>
                            </div>
                        </div>


                    </form>


                </div>

            </div>

        </div>


    </div>

    {// main}

</block>

<block name="js">

    <script src="{:C('__STATIC__')}/assets/js/fuelux/fuelux.spinner.min.js"></script>

    <script src="{:C('__STATIC__')}/assets/js/jquery.inputlimiter.1.3.1.min.js"></script>
    <script src="{:C('__STATIC__')}/assets/js/jquery.maskedinput.min.js"></script>

    <script type="text/javascript">
        $('#id-input-file-1 , #id-input-file-2').ace_file_input({
            no_file: 'No File ...',
            btn_choose: 'Choose',
            btn_change: 'Change',
            droppable: false,
            onchange: null,
            thumbnail: false //| true | large
            //whitelist:'gif|png|jpg|jpeg'
            //blacklist:'exe|php'
            //onchange:''
            //
        });
        $('#id-input-file-3').ace_file_input({
            style: 'well',
            btn_choose: 'Drop files here or click to choose',
            btn_change: null,
            no_icon: 'icon-cloud-upload',
            droppable: true,
            thumbnail: 'small'//large | fit
            , icon_remove: null//set null, to hide remove/reset button
            /**,before_change:function(files, dropped) {
                //Check an example below
                //or examples/file-upload.html
                return true;
            }*/
            /**,before_remove : function() {
                return true;
            }*/
            ,
            preview_error: function (filename, error_code) {
                //name of the file that failed
                //error_code values
                //1 = 'FILE_LOAD_FAILED',
                //2 = 'IMAGE_LOAD_FAILED',
                //3 = 'THUMBNAIL_FAILED'
                //alert(error_code);
            }

        }).on('change', function () {
            //console.log($(this).data('ace_input_files'));
            //console.log($(this).data('ace_input_method'));
        });


        $('#spinner3').ace_spinner({
            value: 0,
            min: 0,
            max: 999,
            step: 1,
            on_sides: true,
            icon_up: 'icon-plus smaller-75',
            icon_down: 'icon-minus smaller-75',
            btn_up_class: 'btn-success',
            btn_down_class: 'btn-danger'
        });
        $('#spinner4').ace_spinner({
            value: 0,
            min: 0,
            max: 999,
            step: 1,
            on_sides: true,
            icon_up: 'icon-plus smaller-75',
            icon_down: 'icon-minus smaller-75',
            btn_up_class: 'btn-success',
            btn_down_class: 'btn-danger'
        });
        $('#spinner5').ace_spinner({
            value: 0,
            min: 0,
            max: 999,
            step: 1,
            on_sides: true,
            icon_up: 'icon-plus smaller-75',
            icon_down: 'icon-minus smaller-75',
            btn_up_class: 'btn-success',
            btn_down_class: 'btn-danger'
        });

        $('#spinner2').ace_spinner({
            value: 0,
            min: 0,
            max: 10000,
            step: 10,
            touch_spinner: true,
            icon_up: 'icon-caret-up',
            icon_down: 'icon-caret-down'
        });

        $('#signup_form').validator({
            fields: {
                'title': 'required;',
                'description': 'required;',
                'periods_id': 'required;',
                'type': 'required'
            }
            // 表单验证通过后，ajax提交
        });
    </script>

</block>