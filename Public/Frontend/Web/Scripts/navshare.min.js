!function () { function n() { function i() { var a = $(window).scrollTop(); a > g - 90 ? (b.css({ top: 90, position: "fixed" }), -[1] || window.XMLHttpRequest || b.css({ top: a + 90, position: "absolute" })) : b.css({ top: g + "px", position: "absolute" }) } function l() { var b, c, f, a = $(window).scrollTop(); for (b = 0; b < e.length; b++) c = $(e[b]), c.length > 0 && (f = c.offset().top, a > f - 150 && d.eq(b).addClass("hover").siblings().removeClass("hover")) } var j, k, a = s(f, "menubar"), c = q(b, a), d = $("#menubar .gothis"), e = [], g = h ? h : $("#content").offset().top; for (b.css({ left: c + "px", top: g + "px", display: "block" }), j = 0; j < d.length; j++) k = d.eq(j).attr("onclick"), e[j] = k.match(/scrollto\('([\s\S]*?)'\)/i)[1]; $(window).on("scroll", i), $(window).on("scroll", l), $(window).on("resize", w(function () { b.css("left", q(b, a) + "px") }, 100)) } function o() { function e() { var a = $(window).scrollTop(); a > c - 90 ? (d.css({ top: 90, position: "fixed" }), -[1] || window.XMLHttpRequest || d.css({ top: a + 90, position: "absolute" })) : d.css({ top: c + "px", position: "absolute" }) } var a = s(f, "share"), b = q(d, a), c = $("#article").length > 0 ? $("#article").offset().top : h; d.css({ left: b + "px", top: c + "px", display: "block" }), d.css("left", q(d, a) + "px"), $(window).on("scroll", e), $(window).on("resize", w(function () { d.css("left", q(d, a) + "px") }, 100)) } function p() { function g() { var a = $(window).scrollTop(); a > b - 90 ? (c.css({ top: 90, position: "fixed" }), -[1] || window.XMLHttpRequest || c.css({ top: a + 90, position: "absolute" })) : c.css({ top: b + "px", position: "absolute" }), $(window).scrollTop() > $(window).height() / 2 ? e.show() : e.hide() } var e, a = s(f, "share"), b = $("#article").length > 0 ? $("#article").offset().top : h; c.css({ left: q(d, a) + "px", top: b + "px", display: "block" }), c.css("left", q(d, a) + "px"), e = $("#goTop"), $(window).on("scroll", g), $(window).on("resize", w(function () { c.css("left", q(d, a) + "px") }, 100)) } function q(a, b) { var c; return c = "right" === b ? ($(window).width() - g) / 2 + g + 10 : ($(window).width() - g) / 2 - a.outerWidth(!0) - 10 } function s(a, b) { var c; return a.indexOf(b) > 0 ? (b = new RegExp("(\\?|&)" + b + "=([^&]+)(&|$)", "i"), c = a.match(b)[2]) : c = !1, c } function t() { var c, d, a = ""; try { throw Error("获取js路径有误") } catch (b) { b.fileName ? a = b.fileName : b.stack ? a = (b.stack.match(/at\s+(.*?):\d+:\d+/) || ["", ""])[1] : b.sourceURL && (a = b.sourceURL) } return a ? a : (c = document.getElementsByTagName("script"), d = c[c.length - 1], a = document.querySelector ? d.src : d.getAttribute("src", 4)) } function v(a) { var c, d, b = $("link"); for (c = 0; c < b.length; c++) { if (b.eq(c).attr("href") == a) return !1; b.length - 1 == c && (d = document.createElement("link"), d.type = "text/css", d.rel = "stylesheet", d.href = a, document.body.appendChild(d)) } } function w(a, b, c) { var d; return function () { var e = this, f = arguments, g = function () { d = null, c || a.apply(e, f) }, h = c && !d; clearTimeout(d), d = setTimeout(g, b), h && a.apply(e, f) } } function x(a, b) { setTimeout(a, b) } function y() { function i() { var i, j, k, b = $(window).height(), d = 0; for (c.removeClass("tofixed"), i = e; i >= 0 && (d += c.eq(i).height(), b > d) ; i--) c.eq(i).addClass("tofixed"); for (j = $(".tofixed"), k = 0; k < j.length; k++) j.eq(k).parent().hasClass("allfixed") && j.eq(k).unwrap(); j.wrapAll('<div class="allfixed" />'), g = a.offset().top + a.height() - $(".allfixed").height(), f = $(".allfixed").offset().top, $("#fixbox").length > 0 && (h = 39) } function j() { var a = $(window).scrollTop(), b = $(".allfixed"); a > f ? b.css({ position: "fixed", width: d, top: h }) : b.css({ position: "static", width: d, top: h }), a > g && b.css({ position: "absolute", width: d, top: "auto", bottom: 0 }) } var a, b, c, d, e, f, g, h; (-[1] || window.XMLHttpRequest) && (a = $("#getMaxHeight"), b = $("#setMaxHeight"), a.height() < b.height() || (b.css({ height: a.height(), position: "relative" }), c = $(".asidefix"), d = b.width(), e = c.length - 1, f = 0, g = 0, h = 0, i(), $(window).on("scroll", j), $(window).on("resize", w(function () { i(), j() }, 100)))) } var j, k, l, m, b = ($("#goTop"), $("#menubar")), c = $("#asidebar"), d = $("#hck_vshare"), e = $("#hck_hshare"), f = t(), g = parseInt(s(f, "content")), h = parseInt(s(f, "top")), i = "http://resck.56hx.com/images/navshare.css"; c.length > 0 && (j = "", k = "'body'", l = j + '<a id="goAbout" href="javascript:location.reload(false)" title="刷新" target="_self"></a><a id="goTop" href="javascript:void(0)"target="_self" onclick="scrollto(' + k + ')" style="display:none" title="返回顶部"></a> ', v(i), c.append(l), p()), (d.length > 0 || e.length > 0) && (l = '<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_tsina"></a><a class="bds_tqq"></a><a class="bds_tieba"></a><a class="bds_qzone"></a><span class="bds_more"></span></div>', v(i), d.length > 0 && d.prepend(l), e.length > 0 && e.append(l), m = '<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=11487" ></script><script type="text/javascript" id="bdshell_js"></script>', m += "<script>var bds_config = {'snsKey':{'tsina':'170593710','tqq':'4a63ddd0caee45f79774ce3f48079e73'}};</script>", document.write(m), document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date / 36e5), x(o, 300)), b.length > 0 && n(), $("#getMaxHeight").length > 0 && $("#setMaxHeight").length > 0 && x(y, 300) }(), scrollto = function (a) { var b = $(a).offset().top - 40; $("html,body").animate({ scrollTop: b }) };